{"ast":null,"code":"import _slicedToArray from\"C:/Users/SONU/Desktop/github/ecommerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{signin}from\"../actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Signin=function Signin(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var userSignin=useSelector(function(state){return state.userSignin;});var loading=userSignin.loading,error=userSignin.error,userInfo=userSignin.userInfo;var dispatch=useDispatch();var submitHandler=function submitHandler(e){e.preventDefault();dispatch(signin(email,password));};var redirect=props.location.search?props.location.search.split(\"=\")[1]:\"/\";useEffect(function(){if(userInfo){props.history.push(redirect);}return function(){//\n};},[userInfo]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"pt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\" pt-5 \",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\" col-5 border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\" p-4 \",children:[/*#__PURE__*/_jsx(\"h2\",{className:\" text-center\",children:\"Sign in Form\"}),/*#__PURE__*/_jsx(\"div\",{className:\" py-md-4\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[loading&&/*#__PURE__*/_jsx(\"div\",{children:\"Loading ....\"}),error&&/*#__PURE__*/_jsx(\"div\",{children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",name:\"email\",placeholder:\"Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"submit\",children:\"Login\"})})]})}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",\"Don't have an account,\",\" \",/*#__PURE__*/_jsx(Link,{to:redirect===\"/\"?\"register\":\"register?redirect=\"+redirect,children:\"Sign up\"})]})]})})})})})});};export default Signin;","map":{"version":3,"sources":["C:/Users/SONU/Desktop/github/ecommerce/frontend/src/Screens/Signin.js"],"names":["React","useState","useEffect","Link","useDispatch","useSelector","signin","Signin","props","email","setEmail","password","setPassword","userSignin","state","loading","error","userInfo","dispatch","submitHandler","e","preventDefault","redirect","location","search","split","history","push","target","value"],"mappings":"sKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,MAAT,KAAuB,wBAAvB,C,6IACA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,eACEP,QAAQ,CAAC,EAAD,CADV,wCACjBQ,KADiB,eACVC,QADU,8BAEQT,QAAQ,CAAC,EAAD,CAFhB,yCAEjBU,QAFiB,eAEPC,WAFO,eAGxB,GAAMC,CAAAA,UAAU,CAAGR,WAAW,CAAC,SAACS,KAAD,QAAWA,CAAAA,KAAK,CAACD,UAAjB,EAAD,CAA9B,CAHwB,GAIhBE,CAAAA,OAJgB,CAIaF,UAJb,CAIhBE,OAJgB,CAIPC,KAJO,CAIaH,UAJb,CAIPG,KAJO,CAIAC,QAJA,CAIaJ,UAJb,CAIAI,QAJA,CAKxB,GAAMC,CAAAA,QAAQ,CAAGd,WAAW,EAA5B,CACA,GAAMe,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAO,CAC3BA,CAAC,CAACC,cAAF,GACAH,QAAQ,CAACZ,MAAM,CAACG,KAAD,CAAQE,QAAR,CAAP,CAAR,CACD,CAHD,CAIA,GAAMW,CAAAA,QAAQ,CAAGd,KAAK,CAACe,QAAN,CAAeC,MAAf,CACbhB,KAAK,CAACe,QAAN,CAAeC,MAAf,CAAsBC,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CADa,CAEb,GAFJ,CAIAvB,SAAS,CAAC,UAAM,CACd,GAAIe,QAAJ,CAAc,CACZT,KAAK,CAACkB,OAAN,CAAcC,IAAd,CAAmBL,QAAnB,EACD,CACD,MAAO,WAAM,CACX;AACD,CAFD,CAGD,CAPQ,CAON,CAACL,QAAD,CAPM,CAAT,CAQA,mBACE,sCACE,YAAK,SAAS,CAAC,MAAf,uBACE,YAAK,SAAS,CAAC,QAAf,uBACE,YAAK,SAAS,CAAC,4BAAf,uBACE,YAAK,SAAS,CAAC,eAAf,uBACE,aAAK,SAAS,CAAC,OAAf,wBACE,WAAI,SAAS,CAAC,cAAd,0BADF,cAEE,YAAK,SAAS,CAAC,UAAf,uBACE,cAAM,QAAQ,CAAEE,aAAhB,WACGJ,OAAO,eAAI,qCADd,CAEGC,KAAK,eAAI,qBAAMA,KAAN,EAFZ,cAGE,YAAK,SAAS,CAAC,YAAf,uBACE,cACE,IAAI,CAAC,OADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,OAHL,CAIE,IAAI,CAAC,OAJP,CAKE,WAAW,CAAC,OALd,CAME,KAAK,CAAEP,KANT,CAOE,QAAQ,CAAE,kBAACW,CAAD,QAAOV,CAAAA,QAAQ,CAACU,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAf,EAPZ,EADF,EAHF,cAcE,YAAK,SAAS,CAAC,YAAf,uBACE,cACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,UAHL,CAIE,IAAI,CAAC,UAJP,CAKE,WAAW,CAAC,UALd,CAME,KAAK,CAAElB,QANT,CAOE,QAAQ,CAAE,kBAACS,CAAD,QAAOR,CAAAA,WAAW,CAACQ,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAlB,EAPZ,EADF,EAdF,cAyBE,YAAK,SAAS,CAAC,SAAf,uBACE,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,IAAI,CAAC,QAAzC,mBADF,EAzBF,GADF,EAFF,cAmCE,qBACG,GADH,0BAEyB,GAFzB,cAGE,KAAC,IAAD,EACE,EAAE,CACAP,QAAQ,GAAK,GAAb,CACI,UADJ,CAEI,qBAAuBA,QAJ/B,qBAHF,GAnCF,GADF,EADF,EADF,EADF,EADF,EADF,CA6DD,CAnFD,CAqFA,cAAef,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { signin } from \"../actions/userActions\";\r\nconst Signin = (props) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { loading, error, userInfo } = userSignin;\r\n  const dispatch = useDispatch();\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(signin(email, password));\r\n  };\r\n  const redirect = props.location.search\r\n    ? props.location.search.split(\"=\")[1]\r\n    : \"/\";\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      props.history.push(redirect);\r\n    }\r\n    return () => {\r\n      //\r\n    };\r\n  }, [userInfo]);\r\n  return (\r\n    <>\r\n      <div className=\"pt-5\">\r\n        <div className=\" pt-5 \">\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\" col-5 border\">\r\n              <div className=\" p-4 \">\r\n                <h2 className=\" text-center\">Sign in Form</h2>\r\n                <div className=\" py-md-4\">\r\n                  <form onSubmit={submitHandler}>\r\n                    {loading && <div>Loading ....</div>}\r\n                    {error && <div>{error}</div>}\r\n                    <div className=\"form-group\">\r\n                      <input\r\n                        type=\"email\"\r\n                        className=\"form-control\"\r\n                        id=\"email\"\r\n                        name=\"email\"\r\n                        placeholder=\"Email\"\r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <input\r\n                        type=\"password\"\r\n                        className=\"form-control\"\r\n                        id=\"password\"\r\n                        name=\"password\"\r\n                        placeholder=\"Password\"\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                      />\r\n                    </div>\r\n                    <div className=\"mx-auto\">\r\n                      <button className=\"btn btn-primary\" type=\"submit\">\r\n                        Login\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n                <p>\r\n                  {\" \"}\r\n                  Don't have an account,{\" \"}\r\n                  <Link\r\n                    to={\r\n                      redirect === \"/\"\r\n                        ? \"register\"\r\n                        : \"register?redirect=\" + redirect\r\n                    }\r\n                  >\r\n                    Sign up\r\n                  </Link>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n"]},"metadata":{},"sourceType":"module"}