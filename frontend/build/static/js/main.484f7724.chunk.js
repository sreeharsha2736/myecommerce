(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{19:function(e,t,c){},76:function(e,t,c){"use strict";c.r(t);var a=c(40),s=c(41),r=c(46),n=c(44),i=c(1),l=c.n(i),o=c(22),d=c.n(o),j=c(4),u=c(6),m=c(3),b=c(11),p=(c(19),c(45)),h=c(0),O=function(e){var t=Object(j.c)((function(e){return e.userSignin})).userInfo;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("nav",{className:" ",children:Object(h.jsxs)("div",{className:" row",children:[Object(h.jsx)("span",{className:" col-10  ",children:Object(h.jsx)("ul",{className:"navbar-nav pt-2",children:Object(h.jsx)("li",{className:"pl-5 active",children:Object(h.jsx)(u.b,{to:"/",className:"nav-link",id:"home",style:{textDecoration:"none"},children:"Home"})})})}),Object(h.jsx)("span",{className:"col-2",children:Object(h.jsxs)("div",{className:"d-flex   pt-3",children:[t?Object(h.jsx)(u.b,{to:"/profile",children:t.name}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(u.b,{to:"/signin",children:"Sign In"})," "]}),Object(h.jsx)("div",{className:"pl-5 ",style:{fontSize:"24px"},children:Object(h.jsx)(p.a,{})})]})})]})})})},x=function(){var e=Object(i.useState)("header"),t=Object(b.a)(e,2),c=t[0],a=t[1],s=function(e){return window.scrollY<73?a("header"):window.scrollY>70?a("header2"):void 0};return Object(i.useEffect)((function(){window.addEventListener("scroll",s)}),[]),Object(h.jsx)("div",{id:c,className:"container-fluid",children:Object(h.jsx)(O,{})})},v=c(18),f=c(5),g=c.n(f),N=c(14),y="PRODUCT_LIST_REQUEST",S="PRODUCT_LIST_SUCCESS",w="PRODUCT_LIST_FAIL",I="PRODUCT_DETAILS_REQUEST",E="PRODUCT_DETAILS_SUCCESS",k="PRODUCT_DETAILS_FAIL",C=c(15),_=c.n(C),R=function(e){var t=Object(j.c)((function(e){return e.productDetails})),c=Object(i.useState)(1),a=Object(b.a)(c,2),s=a[0],r=a[1],n=t.product,l=t.loading,o=t.error,d=Object(j.b)();Object(i.useEffect)((function(){var t;d((t=e.match.params.id,function(){var e=Object(N.a)(g.a.mark((function e(c){var a,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:I,payload:t}),e.next=4,_.a.get("/products/"+t);case 4:a=e.sent,s=a.data,c({type:E,payload:s}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c({type:k,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))}),[]);return l?"...loading":o?{error:o}:Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"row pt-5",children:[Object(h.jsx)("img",{src:n.image,className:"col-md-4"}),Object(h.jsx)("div",{className:"col-md-4 pt-5 ",children:Object(h.jsx)("div",{id:"product-description",className:"p-5",children:Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"",children:[Object(h.jsxs)("h4",{className:"",children:[" ",n.item]}),Object(h.jsxs)("h5",{className:"",children:[" Price : ",n.amount]}),Object(h.jsxs)("h5",{className:"",children:[" Ratings : ",n.rating,"/ 5"]})]})})})}),Object(h.jsx)("div",{className:"col-md-4 pt-5 ",children:Object(h.jsxs)("div",{id:"",className:"p-5",children:[Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"",children:[Object(h.jsxs)("h5",{className:"",children:[" Price : ",n.amount]}),Object(h.jsxs)("h5",{className:"",children:[" Ratings : ",n.rating," / 5"]}),"Qty :",Object(h.jsx)("select",{className:"form-select form-select-sm","aria-label":".form-select-sm example",value:s,onChange:function(e){return r(e.target.value)},children:Object(v.a)(Array(n.countInStock).keys()).map((function(e){return Object(h.jsx)("option",{value:e+1,children:e+1},e+1)}))})]})}),Object(h.jsxs)("div",{className:" ",children:[Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:["Status:",n.countInStock<1?" Un available":" In Stock"]})}),n.countInStock>1&&Object(h.jsx)("button",{className:"btn btn-warning",onClick:function(){e.history.push("/cart/"+e.match.params.id+"?qty="+s)},children:"Add to cart"})]})]})})]})})},T=function(){var e=Object(j.c)((function(e){return e.productList})),t=e.products,c=e.loading,a=e.error,s=Object(j.b)();return Object(i.useEffect)((function(){s(function(){var e=Object(N.a)(g.a.mark((function e(t){var c,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:y}),e.next=4,_.a.get("/products");case 4:c=e.sent,a=c.data,t({type:S,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:w,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]),c?Object(h.jsx)("div",{children:"Loading..."}):a?Object(h.jsx)("div",{children:a}):Object(h.jsxs)(h.Fragment,{children:[t.map((function(e){return Object(h.jsx)("div",{className:"col-md-4  col-sm-6 p-5",children:Object(h.jsxs)("div",{className:"card ",children:[Object(h.jsx)("img",{src:e.image,className:"card-img-top ",style:{maxHeight:"280px",maxWidth:"330px"},alt:"..."}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("h5",{className:"card-title text-center",children:e.item}),Object(h.jsxs)("div",{className:"row justify-content-around",children:[Object(h.jsx)("span",{className:"card-text",children:e.amount}),Object(h.jsx)("span",{className:"",children:Object(h.jsx)(u.b,{to:"/products/"+e.id,className:"  ",children:"Buynow"})})]})]})]})},e.id)}))," "]})},U=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{id:"carousel-example-1z",className:"carousel slide carousel-fade pt-4","data-ride":"carousel",children:[Object(h.jsxs)("ol",{className:"carousel-indicators",children:[Object(h.jsx)("li",{"data-target":"#carousel-example-1z","data-slide-to":"0",className:"active"}),Object(h.jsx)("li",{"data-target":"#carousel-example-1z","data-slide-to":"1"}),Object(h.jsx)("li",{"data-target":"#carousel-example-1z","data-slide-to":"2"})]}),Object(h.jsxs)("div",{className:"carousel-inner ",role:"listbox",children:[Object(h.jsx)("div",{className:"carousel-item active",children:Object(h.jsx)("div",{className:"view1 pr-5",children:Object(h.jsx)("div",{className:"mask rgba-black-strong  d-flex justify-content-center align-items-center",children:Object(h.jsxs)("div",{className:"text-center white-text mx-5 wow fadeIn",children:[Object(h.jsx)("h1",{className:"mt-4 pr-5 pt-5 pb-5",children:Object(h.jsx)("strong",{children:"Welcome to my ecommerce site"})}),Object(h.jsxs)("h3",{className:"mb-4 pr-5 pt-5 pb-5",children:["Best items are available"," "]}),Object(h.jsxs)("h4",{className:"mb-4 d-none pr-5 pb-5 d-md-block",children:["India's biggest online store for Mobiles, Fashion (Clothes/Shoes), Electronics, ",Object(h.jsx)("br",{}),"Home Appliances, Books Home, Furniture, Grocery, Jewelry, Sporting goods."]})]})})})}),Object(h.jsx)("div",{className:"carousel-item",children:Object(h.jsx)("div",{className:"view2 pr-5",children:Object(h.jsx)("div",{className:"mask rgba-black-strong  d-flex justify-content-center align-items-center",children:Object(h.jsxs)("div",{className:"text-center white-text mx-5 wow fadeIn",children:[Object(h.jsx)("h1",{className:"mt-4 pr-5 pt-5 pb-5",children:Object(h.jsx)("strong",{children:"Welcome to my ecommerce site"})}),Object(h.jsxs)("h3",{className:"mb-4 pr-5 pt-5 pb-5",children:["Best items are available"," "]}),Object(h.jsxs)("h4",{className:"mb-4 d-none pr-5 pb-5 d-md-block",children:["India's biggest online store for Mobiles, Fashion (Clothes/Shoes), Electronics, ",Object(h.jsx)("br",{}),"Home Appliances, Books Home, Furniture, Grocery, Jewelry, Sporting goods."]})]})})})}),Object(h.jsx)("div",{className:"carousel-item",children:Object(h.jsx)("div",{className:"view3 pr-5",children:Object(h.jsx)("div",{className:"mask rgba-black-strong  d-flex justify-content-center align-items-center",children:Object(h.jsxs)("div",{className:"text-center white-text mx-5 wow fadeIn",children:[Object(h.jsx)("h1",{className:"mt-4 pr-5 pt-5 pb-5",children:Object(h.jsx)("strong",{children:"Welcome to my ecommerce site"})}),Object(h.jsxs)("h3",{className:"mb-4 pr-5 pt-5 pb-5",children:["Best items are available"," "]}),Object(h.jsxs)("h4",{className:"mb-4 d-none pr-5 pb-5 d-md-block",children:["India's biggest online store for Mobiles, Fashion (Clothes/Shoes), Electronics, ",Object(h.jsx)("br",{}),"Home Appliances, Books Home, Furniture, Grocery, Jewelry, Sporting goods."]})]})})})})]}),Object(h.jsxs)("a",{className:"carousel-control-prev",href:"#carousel-example-1z",role:"button","data-slide":"prev",children:[Object(h.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(h.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object(h.jsxs)("a",{className:"carousel-control-next",href:"#carousel-example-1z",role:"button","data-slide":"next",children:[Object(h.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(h.jsx)("span",{className:"sr-only",children:"Next"})]})]})})},D=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(U,{}),Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsx)(T,{})})})]})},F=c(13),L=c.n(F),A="USER_SIGNIN_REQUEST",P="USER_SIGNIN_SUCCESS",J="USER_SIGNIN_FAIL",G="USER_REGISTER_REQUEST",B="USER_REGISTER_SUCCESS",H="USER_REGISTER_FAIL",z="USER_LOGOUT",M=function(e){var t=Object(i.useState)(""),c=Object(b.a)(t,2),a=c[0],s=c[1],r=Object(i.useState)(""),n=Object(b.a)(r,2),l=n[0],o=n[1],d=Object(j.c)((function(e){return e.userSignin})),m=d.loading,p=d.error,O=d.userInfo,x=Object(j.b)(),v=e.location.search?e.location.search.split("=")[1]:"/";return Object(i.useEffect)((function(){return O&&e.history.push(v),function(){}}),[O]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"pt-5",children:Object(h.jsx)("div",{className:" pt-5 ",children:Object(h.jsx)("div",{className:"row justify-content-center",children:Object(h.jsx)("div",{className:" col-5 border",children:Object(h.jsxs)("div",{className:" p-4 ",children:[Object(h.jsx)("h2",{className:" text-center",children:"Sign in Form"}),Object(h.jsx)("div",{className:" py-md-4",children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x(function(e,t){return function(){var c=Object(N.a)(g.a.mark((function c(a){var s,r;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a({type:A,payload:{email:e,password:t}}),c.prev=1,c.next=4,_.a.post("/api/users/signin",{email:e,password:t});case 4:s=c.sent,r=s.data,a({type:P,payload:r}),L.a.set("userInfo",JSON.stringify(r)),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),a({type:J,payload:c.t0.message});case 13:case"end":return c.stop()}}),c,null,[[1,10]])})));return function(e){return c.apply(this,arguments)}}()}(a,l))},children:[m&&Object(h.jsx)("div",{children:"Loading ...."}),p&&Object(h.jsx)("div",{children:p}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"Email",value:a,onChange:function(e){return s(e.target.value)}})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",value:l,onChange:function(e){return o(e.target.value)}})}),Object(h.jsx)("div",{className:"mx-auto",children:Object(h.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Login"})})]})}),Object(h.jsxs)("p",{children:[" ","Don't have an account,"," ",Object(h.jsx)(u.b,{to:"/"===v?"register":"register?redirect="+v,children:"Sign up"})]})]})})})})})})},Q="CART_ADD_ITEM",q="CART_REMOVE_ITEM",W=function(e,t){return function(){var c=Object(N.a)(g.a.mark((function c(a,s){var r,n,i,l;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,_.a.get("/products/"+e);case 3:r=c.sent,n=r.data,a({type:Q,payload:{product:n.id,name:n.item,image:n.image,amount:n.amount,countInStock:n.countInStock,qty:t}}),i=s(),l=i.cart.cartItems,L.a.set("cartItems",JSON.stringify(l)),localStorage.set("cartItems",JSON.stringify(l)),c.next=13;break;case 11:c.prev=11,c.t0=c.catch(0);case 13:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(e,t){return c.apply(this,arguments)}}()};var V=function(e){var t=Object(j.c)((function(e){return e.cart})).cartItems,c=e.match.params.id;console.log(c);var a=e.location.search?Number(e.location.search.split("=")[1]):1;console.log(Number(e.location.search.split("=")[1]));var s=Object(j.b)();Object(i.useEffect)((function(){c&&s(W(c,a))}),[]);var r=function(e){s(function(e){return function(t,c){t({type:q,payload:e});var a=c().cart.cartItems;L.a.set("cartItems",JSON.stringify(a))}}(e))};return console.log(t),Object(h.jsxs)("div",{className:"cart pl-2 my-5",children:[Object(h.jsx)("div",{className:"cart-list ",children:Object(h.jsxs)("ul",{className:"pt-5",children:[Object(h.jsx)("h3",{children:"Shopping Cart"}),0===t.length?Object(h.jsx)("div",{children:"Cart is empty"}):t.map((function(e){return Object(h.jsx)("li",{style:{listStyle:"none",border:"1px solid grey"},className:"my-4",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"cart-image col-4",children:Object(h.jsx)("img",{src:e.image,alt:"product",style:{width:"250px"}})}),Object(h.jsxs)("div",{className:"pt-5 pl-5",children:[Object(h.jsx)("h1",{children:Object(h.jsx)(u.b,{to:"/products/"+e.product,children:e.name})}),Object(h.jsx)("h5",{children:Object(h.jsxs)("div",{className:"cart-price",children:["$",1*e.amount]})}),Object(h.jsxs)("div",{children:["Qty:",Object(h.jsx)("select",{value:e.qty,onChange:function(t){return s(W(e.product,t.target.value))},children:Object(v.a)(Array(e.countInStock).keys()).map((function(e){return Object(h.jsx)("option",{value:e+1,children:e+1},e+1)}))}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{className:"btn btn-danger",onClick:function(){return r(e.product)},children:"Delete"})]})]})]})},e.name)}))]})}),Object(h.jsxs)("div",{className:"cart-action pl-5",children:[Object(h.jsxs)("h3",{children:["Subtotal ( ",t.reduce((function(e,t){return e+t.qty}),0)," items) : $"," ",t.reduce((function(e,t){return e+t.amount*t.qty}),0)]}),Object(h.jsx)("button",{onClick:function(){e.history.push("/signin?redirect=shipping")},className:"button primary full-width",disabled:0===t.length,children:"Proceed to Checkout"})]})]})},X=function(e){var t=Object(i.useState)(""),c=Object(b.a)(t,2),a=c[0],s=c[1],r=Object(i.useState)(""),n=Object(b.a)(r,2),l=n[0],o=n[1],d=Object(i.useState)(""),m=Object(b.a)(d,2),p=m[0],O=m[1],x=Object(i.useState)(""),v=Object(b.a)(x,2),f=v[0],y=v[1],S=Object(j.b)(),w=Object(j.c)((function(e){return e.userRegister})),I=w.loading,E=w.error,k=w.userInfo,C=e.location.search?e.location.search.split("=")[1]:"/";return Object(i.useEffect)((function(){k&&e.history.push(C)}),[k]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"container pt-5 mt-5",children:[Object(h.jsx)("div",{className:"row justify-content-center",children:Object(h.jsx)("div",{className:"col-md-5",children:Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("h2",{className:"card-title text-center",children:"Sign in Form"}),Object(h.jsx)("div",{className:"card-body py-md-4",children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),S(function(e,t,c){return function(){var a=Object(N.a)(g.a.mark((function a(s){var r,n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s({type:G,payload:{name:e,email:t,password:c}}),a.prev=1,a.next=4,_.a.post("/api/users/register",{name:e,email:t,password:c});case 4:r=a.sent,n=r.data,s({type:B,payload:n}),L.a.set("userInfo",JSON.stringify(n)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),s({type:H,payload:a.t0.message});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()}(a,l,p))},children:[I&&Object(h.jsx)("div",{children:"Loading..."}),E&&Object(h.jsx)("div",{children:E}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",placeholder:"Name",value:a,onChange:function(e){s(e.target.value)}})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"Email",value:l,onChange:function(e){o(e.target.value)}})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",value:p,onChange:function(e){O(e.target.value)}})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"password",className:"form-control",id:"confirm-password",placeholder:"confirm-password",value:f,onChange:function(e){return y(e.target.value)}})}),Object(h.jsx)("div",{className:"d-flex flex-row align-items-center justify-content-between",children:Object(h.jsx)("button",{className:"btn btn-primary",type:"submit",name:"submit",children:"Create Account"})})]})})]})})}),Object(h.jsxs)("div",{className:"row  justify-content-center",children:["Already have an account,",Object(h.jsx)(u.b,{to:"/"===C?"Signin":"Signin?redirect="+C,children:"Log in"})]})]})})},Y=c(16),$=c(43),K=c(30);var Z={cart:{cartItems:L.a.getJSON("cartItems")||[],shipping:{},payment:{}},userSignin:{userInfo:L.a.getJSON("userInfo")||null}},ee=Object(Y.c)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loading:!0,products:[]};case S:return{loading:!1,products:t.payload};case w:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{loading:!0};case E:return{loading:!1,product:t.payload};case k:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:var c=t.payload,a=e.cartItems.find((function(e){return e.product===c.product}));return a?Object(K.a)(Object(K.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===a?c:e}))}):{cartItems:[].concat(Object(v.a)(e.cartItems),[c])};case q:return{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))};default:return{cartItems:e.cartItems}}},userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{loading:!0};case P:return{loading:!1,userInfo:t.payload};case J:return{loading:!1,error:t.payload};case z:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return{loading:!0};case B:return{loading:!1,userInfo:t.payload};case H:return{loading:!1,error:t.payload};default:return e}}}),te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,ce=Object(Y.e)(ee,Z,te(Object(Y.a)($.a))),ae=function(e){Object(r.a)(c,e);var t=Object(n.a)(c);function c(){return Object(a.a)(this,c),t.apply(this,arguments)}return Object(s.a)(c,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsxs)(u.a,{children:[Object(h.jsx)("div",{children:Object(h.jsxs)("div",{children:[" ",Object(h.jsx)(x,{})]})}),Object(h.jsxs)(m.c,{children:[Object(h.jsx)(m.a,{path:"/products/:id",component:R}),Object(h.jsx)(m.a,{path:"/",exact:!0,component:D}),Object(h.jsx)(m.a,{path:"/signin",component:M}),Object(h.jsx)(m.a,{path:"/register",component:X}),Object(h.jsx)(m.a,{path:"/cart/:id?",component:V})]})]})})}}]),c}(l.a.Component);d.a.render(Object(h.jsx)(j.a,{store:ce,children:Object(h.jsx)(ae,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.484f7724.chunk.js.map